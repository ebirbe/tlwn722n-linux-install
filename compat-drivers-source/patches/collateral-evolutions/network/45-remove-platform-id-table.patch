--- a/drivers/net/wireless/ti/wl12xx/main.c
+++ b/drivers/net/wireless/ti/wl12xx/main.c
@@ -1725,16 +1725,20 @@ out:
 	return ret;
 }
 
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(2,6,30)
 static const struct platform_device_id wl12xx_id_table[] = {
 	{ "wl12xx", 0 },
 	{  } /* Terminating Entry */
 };
 MODULE_DEVICE_TABLE(platform, wl12xx_id_table);
+#endif
 
 static struct platform_driver wl12xx_driver = {
 	.probe		= wl12xx_probe,
 	.remove		= wlcore_remove,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(2,6,30)
 	.id_table	= wl12xx_id_table,
+#endif
 	.driver = {
 		.name	= "wl12xx_driver",
 		.owner	= THIS_MODULE,
